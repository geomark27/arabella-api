{
    "schemes": [
        "http",
        "https"
    ],
    "swagger": "2.0",
    "info": {
        "description": "API REST para el sistema de gestión financiera personal Arabella. Implementa contabilidad de doble partida, cálculo de Runway y soporte multi-moneda.",
        "title": "Arabella Financial OS API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "Arabella Support",
            "email": "support@arabella.app"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "host": "localhost:8080",
    "basePath": "/api/v1",
    "paths": {
        "/accounts": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene todas las cuentas financieras del usuario autenticado (BANK, CASH, CREDIT_CARD, SAVINGS, INVESTMENT)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Accounts"
                ],
                "summary": "Listar cuentas",
                "responses": {
                    "200": {
                        "description": "Lista de cuentas",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "count": {
                                    "type": "integer"
                                },
                                "data": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/dtos.AccountResponseDTO"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Crea una nueva cuenta financiera para el usuario autenticado. El campo user_id se asigna automáticamente desde el JWT. Tipos válidos: BANK, CASH, CREDIT_CARD, SAVINGS, INVESTMENT",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Accounts"
                ],
                "summary": "Crear cuenta",
                "parameters": [
                    {
                        "description": "Datos de la nueva cuenta",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.CreateAccountDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Cuenta creada exitosamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.AccountResponseDTO"
                                },
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/accounts/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene el detalle completo de una cuenta financiera por su ID, incluyendo saldo y moneda",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Accounts"
                ],
                "summary": "Obtener cuenta por ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la cuenta",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de la cuenta",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.AccountResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Cuenta no encontrada",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Actualiza los datos de una cuenta financiera existente. Solo se actualizan los campos enviados (PATCH semántico)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Accounts"
                ],
                "summary": "Actualizar cuenta",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la cuenta",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Campos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.UpdateAccountDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cuenta actualizada exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID o datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Realiza un borrado lógico (soft delete) de una cuenta financiera. Los registros históricos se conservan",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Accounts"
                ],
                "summary": "Eliminar cuenta",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la cuenta",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cuenta eliminada exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/change-password": {
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Cambia la contraseña del usuario autenticado verificando la contraseña actual",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Cambiar contraseña",
                "parameters": [
                    {
                        "description": "Contraseñas actual y nueva",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.ChangePasswordDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contraseña actualizada exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "Datos inválidos o contraseña actual incorrecta",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "Autentica al usuario con email y contraseña, devuelve tokens de acceso y refresco JWT",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Iniciar sesión",
                "parameters": [
                    {
                        "description": "Credenciales de acceso",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.LoginDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Autenticación exitosa",
                        "schema": {
                            "$ref": "#/definitions/dtos.LoginResponseDTO"
                        }
                    },
                    "400": {
                        "description": "Datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Credenciales incorrectas",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/refresh": {
            "post": {
                "description": "Genera un nuevo par de tokens (acceso + refresco) a partir de un refresh token válido",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Refrescar tokens",
                "parameters": [
                    {
                        "description": "Refresh token",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.RefreshTokenDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tokens renovados exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.RefreshTokenResponseDTO"
                        }
                    },
                    "400": {
                        "description": "Datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "Refresh token inválido o expirado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "Crea una nueva cuenta de usuario y devuelve tokens de acceso JWT",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Registrar nuevo usuario",
                "parameters": [
                    {
                        "description": "Datos de registro",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.RegisterAuthDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Usuario registrado exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.LoginResponseDTO"
                        }
                    },
                    "400": {
                        "description": "Datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "409": {
                        "description": "El email ya está registrado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/categories": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene todas las categorías del usuario autenticado. Se puede filtrar por tipo (INCOME o EXPENSE)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Categories"
                ],
                "summary": "Listar categorías",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tipo de categoría (INCOME, EXPENSE)",
                        "name": "type",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de categorías",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "count": {
                                    "type": "integer"
                                },
                                "data": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/dtos.CategoryResponse"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Crea una nueva categoría para clasificar transacciones del usuario autenticado. Tipos válidos: INCOME (ingresos) o EXPENSE (gastos)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Categories"
                ],
                "summary": "Crear categoría",
                "parameters": [
                    {
                        "description": "Datos de la nueva categoría",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.CreateCategoryRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Categoría creada exitosamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.CategoryResponse"
                                },
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/categories/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene el detalle de una categoría específica por su ID",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Categories"
                ],
                "summary": "Obtener categoría por ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la categoría",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de la categoría",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.CategoryResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Categoría no encontrada",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Actualiza el nombre o el estado activo de una categoría existente. Solo se modifican los campos enviados",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Categories"
                ],
                "summary": "Actualizar categoría",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la categoría",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Campos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.UpdateCategoryRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Categoría actualizada exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID o datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Realiza un borrado lógico (soft delete) de una categoría. Las transacciones asociadas no se eliminan",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Categories"
                ],
                "summary": "Eliminar categoría",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la categoría",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Categoría eliminada exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/currencies": {
            "get": {
                "description": "Obtiene todas las monedas activas disponibles en el sistema (USD, EUR, MXN, etc.). Este endpoint es público y no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Currencies"
                ],
                "summary": "Listar monedas disponibles",
                "responses": {
                    "200": {
                        "description": "Lista de monedas activas",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "count": {
                                    "type": "integer"
                                },
                                "data": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/dtos.CurrencyResponseDto"
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/currencies/{code}": {
            "get": {
                "description": "Obtiene el detalle de una moneda específica usando su código ISO 4217 (ej: USD, EUR, MXN). Este endpoint es público y no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Currencies"
                ],
                "summary": "Obtener moneda por código ISO",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Código ISO 4217 de la moneda (ej: USD, EUR, MXN)",
                        "name": "code",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de la moneda",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.CurrencyResponseDto"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Moneda no encontrada",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/dashboard": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene el dashboard completo del usuario autenticado: patrimonio neto, activos, pasivos, flujo de caja mensual, y el cálculo de Runway (cuántos meses puede sobrevivir sin ingresos basado en el promedio de gastos de los últimos 3 meses)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Dashboard"
                ],
                "summary": "Resumen financiero del usuario",
                "responses": {
                    "200": {
                        "description": "Dashboard financiero completo",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.DashboardResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/dashboard/monthly-stats": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene el resumen de ingresos, gastos y flujo neto de caja para un mes y año específicos del usuario autenticado",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Dashboard"
                ],
                "summary": "Estadísticas mensuales de ingresos y gastos",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Mes (1-12, default: mes actual)",
                        "name": "month",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Año (ej: 2026, default: año actual)",
                        "name": "year",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Estadísticas del mes solicitado",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.MonthlyStats"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/dashboard/runway": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Calcula cuántos meses y días puede el usuario sostenerse financieramente sin nuevos ingresos. Fórmula: (Activos líquidos - Pasivos a corto plazo) / Promedio de gastos mensuales (últimos 3 meses). Estados: HEALTHY (≥6 meses), WARNING (3-6 meses), CRITICAL (\u003c3 meses)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Dashboard"
                ],
                "summary": "Cálculo detallado de Runway",
                "responses": {
                    "200": {
                        "description": "Cálculo de Runway detallado con desglose por tipo de cuenta",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.RunwayCalculation"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Verifica que el servicio está en ejecución y responde correctamente",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "Servicio saludable",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "service": {
                                    "type": "string"
                                },
                                "status": {
                                    "type": "string"
                                },
                                "version": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/health/ready": {
            "get": {
                "description": "Verifica que el servicio está listo para recibir tráfico (base de datos, dependencias externas)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Readiness check",
                "responses": {
                    "200": {
                        "description": "Servicio listo",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "checks": {
                                    "type": "object",
                                    "properties": {
                                        "cache": {
                                            "type": "string"
                                        },
                                        "database": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "status": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/journal-entries": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene una lista paginada de asientos del diario contable del usuario autenticado. Los asientos son generados automáticamente por el Motor Contable al crear o revertir transacciones; nunca se crean ni modifican manualmente. Se pueden filtrar por transacción, cuenta o tipo (DEBIT/CREDIT)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Journal Entries"
                ],
                "summary": "Listar asientos contables (pista de auditoría)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Filtrar por ID de transacción",
                        "name": "transaction_id",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Filtrar por ID de cuenta",
                        "name": "account_id",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filtrar por tipo de asiento (DEBIT, CREDIT)",
                        "name": "debit_or_credit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Número de página (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Elementos por página (default: 50, máx: 100)",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista paginada de asientos contables",
                        "schema": {
                            "$ref": "#/definitions/dtos.JournalEntryListResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/journal-entries/transaction/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene todos los asientos de débito y crédito generados para una transacción específica. Cada transacción produce exactamente 2 asientos (uno DEBIT y uno CREDIT) que deben sumar igual, garantizando el equilibrio de la doble partida",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Journal Entries"
                ],
                "summary": "Asientos contables de una transacción",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la transacción",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Asientos de la transacción",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "count": {
                                    "type": "integer"
                                },
                                "data": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/dtos.JournalEntryResponse"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/journal-entries/verify/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Verifica que la suma de todos los asientos DEBIT sea igual a la suma de los asientos CREDIT para una transacción dada. Esto garantiza la regla fundamental de la contabilidad de doble partida: ∑ Débitos = ∑ Créditos",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Journal Entries"
                ],
                "summary": "Verificar equilibrio contable de una transacción",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la transacción a verificar",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Resultado de la verificación con totales de débito y crédito",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.BalanceVerificationResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error al ejecutar la verificación",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/system-values/account-classifications": {
            "get": {
                "description": "Obtiene todas las clasificaciones contables disponibles: ASSET (activo), LIABILITY (pasivo), EQUITY (patrimonio), INCOME (ingreso), EXPENSE (gasto). Endpoint público, no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System Values"
                ],
                "summary": "Obtener clasificaciones de cuenta",
                "responses": {
                    "200": {
                        "description": "Lista de clasificaciones de cuenta",
                        "schema": {
                            "$ref": "#/definitions/dtos.SystemValueListResponseDTO"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/system-values/account-types": {
            "get": {
                "description": "Obtiene todos los tipos de cuenta disponibles: BANK (banco), CASH (efectivo), CREDIT_CARD (tarjeta de crédito), SAVINGS (ahorro), INVESTMENT (inversión). Endpoint público, no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System Values"
                ],
                "summary": "Obtener tipos de cuenta",
                "responses": {
                    "200": {
                        "description": "Lista de tipos de cuenta",
                        "schema": {
                            "$ref": "#/definitions/dtos.SystemValueListResponseDTO"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/system-values/catalog/{catalogType}": {
            "get": {
                "description": "Obtiene todos los valores activos de un catálogo específico del sistema. Catálogos disponibles: ACCOUNT_TYPE, ACCOUNT_CLASSIFICATION, TRANSACTION_TYPE, CATEGORY_TYPE, JOURNAL_ENTRY_TYPE. Endpoint público, no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System Values"
                ],
                "summary": "Obtener valores por tipo de catálogo",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tipo de catálogo (ej: ACCOUNT_TYPE, TRANSACTION_TYPE)",
                        "name": "catalogType",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de valores del catálogo",
                        "schema": {
                            "$ref": "#/definitions/dtos.SystemValueListResponseDTO"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/system-values/category-types": {
            "get": {
                "description": "Obtiene todos los tipos de categoría disponibles: INCOME (para ingresos) y EXPENSE (para gastos). Endpoint público, no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System Values"
                ],
                "summary": "Obtener tipos de categoría",
                "responses": {
                    "200": {
                        "description": "Lista de tipos de categoría",
                        "schema": {
                            "$ref": "#/definitions/dtos.SystemValueListResponseDTO"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/system-values/transaction-types": {
            "get": {
                "description": "Obtiene todos los tipos de transacción válidos: INCOME (requiere category_id), EXPENSE (requiere category_id), TRANSFER (requiere account_to_id). Endpoint público, no requiere autenticación",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System Values"
                ],
                "summary": "Obtener tipos de transacción",
                "responses": {
                    "200": {
                        "description": "Lista de tipos de transacción",
                        "schema": {
                            "$ref": "#/definitions/dtos.SystemValueListResponseDTO"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/transactions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene una lista paginada de transacciones del usuario autenticado con filtros opcionales. Cada transacción pasa por el Motor Contable de doble partida",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Transactions"
                ],
                "summary": "Listar transacciones",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Tipo de transacción (INCOME, EXPENSE, TRANSFER)",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Filtrar por ID de cuenta",
                        "name": "account_id",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Filtrar por ID de categoría",
                        "name": "category_id",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Número de página (default: 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Elementos por página (default: 20, máx: 100)",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de transacciones paginada",
                        "schema": {
                            "$ref": "#/definitions/dtos.TransactionListResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Crea una nueva transacción procesándola a través del Motor Contable de doble partida. Genera automáticamente los asientos de débito y crédito y actualiza los saldos de las cuentas involucradas. Tipos: INCOME (requiere category_id), EXPENSE (requiere category_id), TRANSFER (requiere account_to_id)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Transactions"
                ],
                "summary": "Crear transacción",
                "parameters": [
                    {
                        "description": "Datos de la transacción",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.CreateTransactionRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Transacción creada y contabilizada exitosamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.TransactionResponse"
                                },
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Datos inválidos o regla de negocio violada",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/transactions/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene el detalle completo de una transacción incluyendo sus asientos contables relacionados (account_from, account_to, categoría)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Transactions"
                ],
                "summary": "Obtener transacción por ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la transacción",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle de la transacción",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.TransactionResponse"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Transacción no encontrada",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Actualiza los campos editables de una transacción existente (descripción, notas, fecha, estado de conciliación). El monto y las cuentas no pueden modificarse directamente; para ello, elimina la transacción y crea una nueva",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Transactions"
                ],
                "summary": "Actualizar transacción",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la transacción",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Campos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.UpdateTransactionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transacción actualizada exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID o datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Elimina una transacción creando asientos de reversión en el diario contable (DEBIT↔CREDIT invertidos). Nunca borra registros del diario; garantiza la integridad del historial contable. Los saldos de las cuentas se restauran automáticamente",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Transactions"
                ],
                "summary": "Eliminar transacción (reversión contable)",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID de la transacción a revertir",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transacción revertida exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene la lista de todos los usuarios registrados en el sistema. Endpoint de administración",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Listar usuarios",
                "responses": {
                    "200": {
                        "description": "Lista de usuarios",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "count": {
                                    "type": "integer"
                                },
                                "data": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/dtos.UserResponseDTO"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Crea un nuevo usuario en el sistema. Para el registro con autenticación JWT usa POST /auth/register en su lugar",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Crear usuario",
                "parameters": [
                    {
                        "description": "Datos del nuevo usuario",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.CreateUserDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Usuario creado exitosamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.UserResponseDTO"
                                },
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Datos inválidos o email duplicado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Obtiene el detalle de un usuario específico por su ID. No devuelve datos sensibles como el hash de contraseña",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Obtener usuario por ID",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID del usuario",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalle del usuario",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.UserResponseDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Actualiza los datos de un usuario existente. Solo se modifican los campos enviados en el body (PATCH semántico)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Actualizar usuario",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID del usuario",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Campos a actualizar",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dtos.UpdateUserDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario actualizado exitosamente",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "data": {
                                    "$ref": "#/definitions/dtos.UserResponseDTO"
                                },
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "ID o datos inválidos",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Realiza un borrado lógico (soft delete) del usuario. Sus cuentas, transacciones y asientos contables se conservan en la base de datos",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Users"
                ],
                "summary": "Eliminar usuario",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID del usuario",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Usuario eliminado exitosamente",
                        "schema": {
                            "$ref": "#/definitions/dtos.SuccessResponse"
                        }
                    },
                    "400": {
                        "description": "ID inválido",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "401": {
                        "description": "No autenticado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Usuario no encontrado",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Error interno del servidor",
                        "schema": {
                            "$ref": "#/definitions/dtos.ErrorResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "dtos.AccountBalanceDTO": {
            "type": "object",
            "properties": {
                "balance": {
                    "type": "number"
                },
                "currency_code": {
                    "type": "string"
                },
                "currency_symbol": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "dtos.AccountResponseDTO": {
            "type": "object",
            "properties": {
                "account_type": {
                    "type": "string"
                },
                "balance": {
                    "description": "Changed to decimal.Decimal to match model",
                    "type": "number"
                },
                "created_at": {
                    "type": "string"
                },
                "currency": {
                    "$ref": "#/definitions/dtos.CurrencySummary"
                },
                "currency_id": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "dtos.AccountSummary": {
            "type": "object",
            "properties": {
                "balance": {
                    "description": "Can be string or decimal.Decimal depending on model version"
                },
                "currency": {
                    "$ref": "#/definitions/dtos.CurrencySummary"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "dtos.BalanceVerificationResponse": {
            "type": "object",
            "properties": {
                "difference": {
                    "description": "Should be 0 for balanced transactions",
                    "type": "number"
                },
                "is_balanced": {
                    "type": "boolean"
                },
                "message": {
                    "type": "string"
                },
                "total_credits": {
                    "type": "number"
                },
                "total_debits": {
                    "type": "number"
                },
                "transaction_id": {
                    "type": "integer"
                }
            }
        },
        "dtos.CategoryResponse": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dtos.CategorySummary": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "dtos.ChangePasswordDTO": {
            "type": "object",
            "required": [
                "new_password",
                "old_password"
            ],
            "properties": {
                "new_password": {
                    "type": "string",
                    "minLength": 8
                },
                "old_password": {
                    "type": "string"
                }
            }
        },
        "dtos.CreateAccountDTO": {
            "type": "object",
            "required": [
                "account_type",
                "currency_id",
                "name"
            ],
            "properties": {
                "account_type": {
                    "type": "string"
                },
                "balance": {
                    "type": "number"
                },
                "currency_id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "dtos.CreateCategoryRequest": {
            "type": "object",
            "required": [
                "name",
                "type"
            ],
            "properties": {
                "name": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "INCOME",
                        "EXPENSE"
                    ]
                }
            }
        },
        "dtos.CreateTransactionRequest": {
            "type": "object",
            "required": [
                "account_from_id",
                "amount",
                "description",
                "transaction_date",
                "type"
            ],
            "properties": {
                "account_from_id": {
                    "type": "integer"
                },
                "account_to_id": {
                    "type": "integer"
                },
                "amount": {
                    "type": "number"
                },
                "category_id": {
                    "type": "integer"
                },
                "description": {
                    "type": "string",
                    "maxLength": 255,
                    "minLength": 1
                },
                "exchange_rate": {
                    "type": "number"
                },
                "notes": {
                    "type": "string",
                    "maxLength": 1000
                },
                "transaction_date": {
                    "description": "ISO 8601 format",
                    "type": "string"
                },
                "type": {
                    "type": "string",
                    "enum": [
                        "INCOME",
                        "EXPENSE",
                        "TRANSFER"
                    ]
                }
            }
        },
        "dtos.CreateUserDTO": {
            "type": "object",
            "required": [
                "email",
                "first_name",
                "last_name",
                "password",
                "user_name"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "first_name": {
                    "type": "string"
                },
                "last_name": {
                    "type": "string"
                },
                "password": {
                    "type": "string",
                    "minLength": 8
                },
                "user_name": {
                    "type": "string"
                }
            }
        },
        "dtos.CurrencyResponseDto": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "created_at": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                },
                "symbol": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "dtos.CurrencySummary": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "symbol": {
                    "type": "string"
                }
            }
        },
        "dtos.DashboardResponse": {
            "type": "object",
            "properties": {
                "account_balances": {
                    "description": "Account Breakdown",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.AccountBalanceDTO"
                    }
                },
                "as_of": {
                    "description": "Metadata",
                    "type": "string"
                },
                "average_monthly_expenses": {
                    "description": "Last 3 months average",
                    "type": "number"
                },
                "base_currency": {
                    "description": "User's base currency (default: USD)",
                    "type": "string"
                },
                "liquid_assets": {
                    "description": "BANK + CASH only",
                    "type": "number"
                },
                "monthly_expenses": {
                    "description": "Total EXPENSE transactions this month",
                    "type": "number"
                },
                "monthly_income": {
                    "description": "Monthly Stats (current month)",
                    "type": "number"
                },
                "monthly_net_cash_flow": {
                    "description": "Income - Expenses",
                    "type": "number"
                },
                "net_worth": {
                    "description": "Assets - Liabilities",
                    "type": "number"
                },
                "runway": {
                    "description": "Runway Calculation (Critical feature from DOC.md)",
                    "type": "number"
                },
                "runway_days": {
                    "description": "Runway in days",
                    "type": "integer"
                },
                "total_assets": {
                    "description": "Financial Overview",
                    "type": "number"
                },
                "total_liabilities": {
                    "description": "Sum of all CREDIT_CARD accounts",
                    "type": "number"
                }
            }
        },
        "dtos.ErrorResponse": {
            "type": "object",
            "properties": {
                "details": {
                    "type": "string",
                    "example": "additional error details"
                },
                "error": {
                    "type": "string",
                    "example": "error message"
                }
            }
        },
        "dtos.JournalEntryListResponse": {
            "type": "object",
            "properties": {
                "entries": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.JournalEntryResponse"
                    }
                },
                "page": {
                    "type": "integer"
                },
                "page_size": {
                    "type": "integer"
                },
                "total": {
                    "type": "integer"
                },
                "total_pages": {
                    "type": "integer"
                }
            }
        },
        "dtos.JournalEntryResponse": {
            "type": "object",
            "properties": {
                "account": {
                    "description": "Relationships",
                    "allOf": [
                        {
                            "$ref": "#/definitions/dtos.AccountSummary"
                        }
                    ]
                },
                "account_id": {
                    "type": "integer"
                },
                "amount": {
                    "type": "number"
                },
                "created_at": {
                    "type": "string"
                },
                "debit_or_credit": {
                    "description": "\"DEBIT\" or \"CREDIT\"",
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "entry_date": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "transaction_id": {
                    "type": "integer"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dtos.LoginDTO": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "dtos.LoginResponseDTO": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string"
                },
                "refresh_token": {
                    "type": "string"
                },
                "user": {
                    "$ref": "#/definitions/dtos.UserResponse"
                }
            }
        },
        "dtos.MonthlyStats": {
            "type": "object",
            "properties": {
                "expenses": {
                    "type": "number"
                },
                "income": {
                    "type": "number"
                },
                "month": {
                    "description": "1-12",
                    "type": "integer"
                },
                "net_cash_flow": {
                    "description": "Income - Expenses",
                    "type": "number"
                },
                "transaction_count": {
                    "type": "integer"
                },
                "year": {
                    "type": "integer"
                }
            }
        },
        "dtos.RefreshTokenDTO": {
            "type": "object",
            "required": [
                "refresh_token"
            ],
            "properties": {
                "refresh_token": {
                    "type": "string"
                }
            }
        },
        "dtos.RefreshTokenResponseDTO": {
            "type": "object",
            "properties": {
                "access_token": {
                    "type": "string"
                },
                "refresh_token": {
                    "type": "string"
                }
            }
        },
        "dtos.RegisterAuthDTO": {
            "type": "object",
            "required": [
                "email",
                "first_name",
                "last_name",
                "password",
                "user_name"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "first_name": {
                    "type": "string"
                },
                "last_name": {
                    "type": "string"
                },
                "password": {
                    "type": "string",
                    "minLength": 8
                },
                "user_name": {
                    "type": "string"
                }
            }
        },
        "dtos.RunwayCalculation": {
            "type": "object",
            "properties": {
                "available_funds": {
                    "description": "LiquidAssets - ShortTermLiabilities",
                    "type": "number"
                },
                "average_monthly_expenses": {
                    "description": "Last 3 months",
                    "type": "number"
                },
                "bank_accounts": {
                    "description": "Breakdown by account type",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.AccountBalanceDTO"
                    }
                },
                "base_currency": {
                    "type": "string"
                },
                "calculation_date": {
                    "type": "string"
                },
                "cash_accounts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.AccountBalanceDTO"
                    }
                },
                "credit_card_accounts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.AccountBalanceDTO"
                    }
                },
                "liquid_assets": {
                    "description": "BANK + CASH",
                    "type": "number"
                },
                "message": {
                    "type": "string"
                },
                "runway_days": {
                    "type": "integer"
                },
                "runway_months": {
                    "description": "AvailableFunds / AvgExpenses",
                    "type": "number"
                },
                "short_term_liabilities": {
                    "description": "CREDIT_CARD balances",
                    "type": "number"
                },
                "status": {
                    "description": "Warning levels",
                    "type": "string"
                }
            }
        },
        "dtos.SuccessResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string",
                    "example": "operation completed successfully"
                }
            }
        },
        "dtos.SystemValueListResponseDTO": {
            "type": "object",
            "properties": {
                "count": {
                    "type": "integer"
                },
                "data": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.SystemValueResponseDTO"
                    }
                }
            }
        },
        "dtos.SystemValueResponseDTO": {
            "type": "object",
            "properties": {
                "catalog_type": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "display_order": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "label": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "dtos.TransactionListResponse": {
            "type": "object",
            "properties": {
                "page": {
                    "type": "integer"
                },
                "page_size": {
                    "type": "integer"
                },
                "total": {
                    "type": "integer"
                },
                "total_pages": {
                    "type": "integer"
                },
                "transactions": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dtos.TransactionResponse"
                    }
                }
            }
        },
        "dtos.TransactionResponse": {
            "type": "object",
            "properties": {
                "account_from": {
                    "description": "Relationships",
                    "allOf": [
                        {
                            "$ref": "#/definitions/dtos.AccountSummary"
                        }
                    ]
                },
                "account_to": {
                    "$ref": "#/definitions/dtos.AccountSummary"
                },
                "amount": {
                    "type": "number"
                },
                "amount_in_usd": {
                    "type": "number"
                },
                "category": {
                    "$ref": "#/definitions/dtos.CategorySummary"
                },
                "created_at": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                },
                "exchange_rate": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "is_reconciled": {
                    "type": "boolean"
                },
                "notes": {
                    "type": "string"
                },
                "transaction_date": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dtos.UpdateAccountDTO": {
            "type": "object",
            "properties": {
                "account_type": {
                    "type": "string"
                },
                "balance": {
                    "description": "Changed to *decimal.Decimal for optional updates",
                    "type": "number"
                },
                "currency_id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "dtos.UpdateCategoryRequest": {
            "type": "object",
            "properties": {
                "is_active": {
                    "type": "boolean"
                },
                "name": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                }
            }
        },
        "dtos.UpdateTransactionRequest": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "number"
                },
                "description": {
                    "type": "string",
                    "maxLength": 255,
                    "minLength": 1
                },
                "is_reconciled": {
                    "type": "boolean"
                },
                "notes": {
                    "type": "string",
                    "maxLength": 1000
                },
                "transaction_date": {
                    "description": "ISO 8601 format",
                    "type": "string"
                }
            }
        },
        "dtos.UpdateUserDTO": {
            "type": "object",
            "properties": {
                "avatar_url": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "first_name": {
                    "type": "string"
                },
                "last_name": {
                    "type": "string"
                },
                "user_name": {
                    "type": "string"
                }
            }
        },
        "dtos.UserResponse": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "first_name": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_active": {
                    "type": "boolean"
                },
                "last_name": {
                    "type": "string"
                },
                "user_name": {
                    "type": "string"
                }
            }
        },
        "dtos.UserResponseDTO": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string"
                },
                "first_name": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "last_name": {
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Escribe \"Bearer\" seguido de un espacio y tu JWT de acceso. Ejemplo: \"Bearer eyJhbGci...\"",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}